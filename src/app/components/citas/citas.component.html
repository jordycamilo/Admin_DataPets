<div class="citas-container mb-6">
  <h2 class="titulo-citas">{{ editandoId ? 'Editar Cita' : 'Agregar Nueva Cita' }}</h2>

  <form class="grid md:grid-cols-2 gap-4" (ngSubmit)="editandoId ? guardarEdicion() : agregarCita()">
    <input class="input input-bordered w-full" type="text" placeholder="Nombre" [(ngModel)]="nuevaCita.nombre" name="nombre" required />
    <input class="input input-bordered w-full" type="text" placeholder="PaÃ­s" [(ngModel)]="nuevaCita.pais" name="pais" required />
    <input class="input input-bordered w-full" type="text" placeholder="Trabajo" [(ngModel)]="nuevaCita.trabajo" name="trabajo" required />
    <input class="input input-bordered w-full" type="text" placeholder="Color Favorito" [(ngModel)]="nuevaCita.colorFavorito" name="colorFavorito" required />
    <input class="input input-bordered w-full" type="text" placeholder="URL de Avatar" [(ngModel)]="nuevaCita.avatar" name="avatar" />

    <button type="submit" class="btn btn-detalles col-span-2">
      {{ editandoId ? 'Guardar Cambios' : 'Agregar Cita' }}
    </button>
  </form>
</div>

<div class="tabla-responsive overflow-x-auto">
  <table class="tabla-citas w-full">
    <thead>
      <tr>
        <th><label><input type="checkbox" class="checkbox" /></label></th>
        <th>Nombre</th>
        <th>Trabajo</th>
        <th>Color Favorito</th>
        <th>Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let cita of citas">
        <th><input type="checkbox" class="checkbox" /></th>
        <td>
          <div class="flex items-center gap-3">
            <div class="avatar">
              <div class="mask mask-squircle h-12 w-12">
                <img [src]="cita.avatar" alt="Avatar" />
              </div>
            </div>
            <div>
              <div class="font-bold">{{ cita.nombre }}</div>
              <div class="text-sm opacity-50 pais">{{ cita.pais }}</div>
            </div>
          </div>
        </td>
        <td>
          <span class="puesto">{{ cita.trabajo }}</span>
        </td>
        <td>
          <span class="badge">{{ cita.colorFavorito }}</span>
        </td>
        <td class="flex gap-2 flex-wrap">
          <button class="btn btn-detalles" (click)="editarCita(cita)">Editar</button>
          <button class="btn btn-error" (click)="eliminarCita(cita.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
